(function(a,s,u,e,c,d,h){"use strict";const l="https://decor.fieryflames.dev",v="https://discord.gg/dXp2SdxDcP";let i;async function f(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";i=new Map(Object.entries(await fetch(l+"/users.json",{cache:n}).then(function(t){return t.json()})))}const{ScrollView:D}=d.General,{FormSection:g,FormRow:r}=d.Forms,{triggerHapticFeedback:E,HapticFeedbackTypes:y}=s.findByProps("triggerHapticFeedback");function _(){const[n,t]=e.React.useState(!1);return e.React.createElement(D,null,e.React.createElement(g,null,e.React.createElement(r,{label:"Discord Server",leading:e.React.createElement(r.Icon,{source:c.getAssetIDByName("Discord")}),trailing:r.Arrow,onPress:function(){return e.url.openDeeplink(v)},onLongPress:function(){E(y.IMPACT_LIGHT),t(!0)}})),n&&e.React.createElement(g,{title:"Debug"},e.React.createElement(r,{label:"Reload Users Map",leading:e.React.createElement(r.Icon,{source:c.getAssetIDByName("ic_message_retry")}),onPress:function(){return f("reload").then(function(){return h.showToast("Reloaded Users Map",c.getAssetIDByName("Check"))})}})))}const I=s.findByStoreName("UserStore"),S=s.findByProps("getAvatarDecorationURL","default");let o=[];var U={onLoad:async function(){o.push(u.after("getUser",I,function(n,t){t&&i?.has(t.id)&&(t.avatarDecoration=`decor_${i?.get(t.id)}`)})),o.push(u.after("getAvatarDecorationURL",S,function(n,t){let[{avatarDecoration:p}]=n;if(p?.startsWith("decor")){const R=p.split("_");return R.shift(),l+`/${R.join("_")}.png`}})),await f()},onUnload:function(){o.forEach(function(n){return n()})},settings:_};return a.default=U,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui.assets,vendetta.ui.components,vendetta.ui.toasts);
