(function(s,o,u,e,c,l,p,D,a){"use strict";const g="https://decor.fieryflames.dev",y="https://discord.gg/dXp2SdxDcP";let i;const f=async function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";return i=new Map(Object.entries(await fetch(g+"/users.json",{cache:r}).then(function(t){return t.json()})))},{ScrollView:E}=l.General,{FormSection:v,FormRow:n}=l.Forms,{triggerHapticFeedback:b,HapticFeedbackTypes:_}=o.findByProps("triggerHapticFeedback");function I(){return D.useProxy(a.storage),e.React.createElement(E,null,e.React.createElement(v,null,e.React.createElement(n,{label:"Discord Server",leading:e.React.createElement(n.Icon,{source:c.getAssetIDByName("Discord")}),trailing:n.Arrow,onPress:function(){return e.url.openDeeplink(y)},onLongPress:function(){b(_.IMPACT_LIGHT),a.storage.debug=!a.storage.debug}})),a.storage.debug&&e.React.createElement(v,{title:"Debug"},e.React.createElement(n,{label:"Reload Users Map",leading:e.React.createElement(n.Icon,{source:c.getAssetIDByName("ic_message_retry")}),onPress:function(){return f("reload").then(function(){return p.showToast("Reloaded Users Map",c.getAssetIDByName("Check"))})}})))}const P=o.findByStoreName("UserStore"),S=o.findByProps("getAvatarDecorationURL","default");let d=[];var U={onLoad:async function(){d.push(u.after("getUser",P,function(r,t){t&&i?.has(t.id)&&(t.avatarDecoration=`decor_${i?.get(t.id)}`)})),d.push(u.after("getAvatarDecorationURL",S,function(r,t){let[{avatarDecoration:h}]=r;if(h?.startsWith("decor")){const R=h.split("_");return R.shift(),g+`/${R.join("_")}.png`}})),a.storage.debug??=!1,await f()},onUnload:function(){d.forEach(function(r){return r()})},settings:I};return s.default=U,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui.assets,vendetta.ui.components,vendetta.ui.toasts,vendetta.storage,vendetta.plugin);
